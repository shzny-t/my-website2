<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat & Document UI</title>
    <!-- Inter font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        /* Custom scrollbar for a cleaner look */
        .scrollbar-custom::-webkit-scrollbar {
            width: 8px;
        }
        .scrollbar-custom::-webkit-scrollbar-track {
            background: #e5e7eb;
            border-radius: 10px;
        }
        .scrollbar-custom::-webkit-scrollbar-thumb {
            background-color: #9ca3af;
            border-radius: 10px;
            border: 2px solid #e5e7eb;
        }
    </style>
</head>
<body class="h-screen overflow-hidden">

    <!-- Main container for the two-panel layout -->
    <div class="flex flex-col md:flex-row h-full">

        <!-- Left Panel: Chat Interface -->
        <div class="flex flex-col w-full md:w-2/5 lg:w-1/3 bg-white shadow-lg p-4 md:p-6 overflow-hidden">
            <!-- Chat Header -->
            <div class="flex items-center justify-between pb-4 border-b border-gray-200 mb-4">
                <h1 class="text-2xl font-bold text-gray-800">Conversation</h1>
                <div class="p-2 bg-gray-100 rounded-full text-gray-600 cursor-pointer hover:bg-gray-200 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                      <path d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18ZM10.5 8.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM12 11.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V12a.75.75 0 0 1 .75-.75Z" />
                    </svg>
                </div>
            </div>

            <!-- Chat Messages Display Area -->
            <div id="chat-history" class="flex-1 overflow-y-auto scrollbar-custom space-y-4 pr-2">
                <!-- Messages will be injected here by JavaScript -->
            </div>

            <!-- Chat Input Area -->
            <div class="mt-4 flex items-center gap-2">
                <input type="text" id="chat-input" placeholder="Ask a question or provide a prompt..." class="flex-1 p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm">
                <button id="send-btn" class="p-3 bg-blue-600 text-white rounded-xl shadow-md hover:bg-blue-700 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path d="M3.478 2.405a.75.75 0 0 0-.926.94l2.432 7.917H1.75a.75.75 0 0 0 0 1.5h2.626l-2.432 7.917a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.405Z" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Right Panel: Document/Canvas Interface -->
        <div class="flex-1 w-full md:w-3/5 lg:w-2/3 bg-gray-100 p-4 md:p-6 shadow-inner md:overflow-y-auto">
            <div class="bg-white p-6 rounded-2xl shadow-lg h-full flex flex-col">
                <!-- Document Header -->
                <div class="flex items-center justify-between pb-4 border-b border-gray-200 mb-4">
                    <h2 id="document-title" class="text-xl font-semibold text-gray-700">Canvas</h2>
                    <button id="change-doc-btn" class="px-4 py-2 bg-purple-600 text-white rounded-lg shadow-sm hover:bg-purple-700 transition-colors text-sm">Update Content</button>
                </div>
                <!-- Document Content Area -->
                <div id="document-content" class="flex-1 text-gray-600 overflow-y-auto scrollbar-custom leading-relaxed">
                    <p>This is the document or canvas area. Content generated by the model will appear here. The layout is fully responsive, adapting to different screen sizes.</p>
                    <p class="mt-4">You can click the "Update Content" button to see how new content would be loaded into this panel. This simulates the model providing a substantial response, such as code or a detailed essay.</p>
                </div>
            </div>
        </div>

    </div>

    <script>
        // DOM element references
        const chatHistory = document.getElementById('chat-history');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const documentContent = document.getElementById('document-content');
        const changeDocBtn = document.getElementById('change-doc-btn');
        const documentTitle = document.getElementById('document-title');

        /**
         * Appends a new message to the chat history.
         * @param {string} text The message text.
         * @param {string} sender The sender of the message ('user' or 'model').
         */
        function addMessage(text, sender) {
            const messageContainer = document.createElement('div');
            messageContainer.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`;

            const messageBubble = document.createElement('div');
            messageBubble.className = `max-w-xs md:max-w-sm px-4 py-2 rounded-xl text-white shadow-md ${{'user' === sender ? 'bg-blue-600 rounded-br-none' : 'bg-gray-700 rounded-bl-none'}}`;
            messageBubble.textContent = text;

            messageContainer.appendChild(messageBubble);
            chatHistory.appendChild(messageContainer);
            chatHistory.scrollTop = chatHistory.scrollHeight; // Auto-scroll to the bottom
        }

        /**
         * Simulates a model's response after a brief delay.
         * In a real application, this would be where you make an API call to a large language model.
         * @param {string} userMessage The user's input message.
         */
        function handleUserMessage(userMessage) {
            addMessage(userMessage, 'user');
            chatInput.value = ''; // Clear the input field

            // Simulate the model typing...
            setTimeout(() => {
                const modelResponse = "I'm a simple simulation. This is where a large language model would respond. The document to the right would be updated with new content based on your request.";
                addMessage(modelResponse, 'model');
            }, 1000);
        }

        /**
         * Handles the "Update Content" button click.
         * Simulates a new document being generated.
         */
        function updateDocumentContent() {
            documentTitle.textContent = "New Document Generated!";
            documentContent.innerHTML = `
                <h3 class="text-xl font-bold text-gray-800 mb-2">My First HTML App</h3>
                <p>This is a new piece of content that was generated and placed into the document panel. It demonstrates how the left chat panel can interact with and update the right document panel. This could be a new essay, a code snippet, or a full report.</p>
                <div class="mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg">
                    <code>
                        &lt;!DOCTYPE html&gt;<br>
                        &lt;html&gt;<br>
                        &nbsp;&nbsp;&lt;body&gt;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;Hello World!&lt;/h1&gt;<br>
                        &nbsp;&nbsp;&lt;/body&gt;<br>
                        &lt;/html&gt;
                    </code>
                </div>
            `;
            // Scroll to top of document content
            documentContent.scrollTop = 0;
        }

        // Event listeners
        sendBtn.addEventListener('click', () => {
            if (chatInput.value.trim() !== '') {
                handleUserMessage(chatInput.value.trim());
            }
        });

        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && chatInput.value.trim() !== '') {
                handleUserMessage(chatInput.value.trim());
            }
        });

        changeDocBtn.addEventListener('click', updateDocumentContent);

        // Initial welcome message
        addMessage('Hello! I can help you with your projects. How can I assist you today?', 'model');
    </script>
</body>
</html>